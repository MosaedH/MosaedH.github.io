// const template = document.createElement("div");
// template.innerHTML = (
//
//     //'<div class=winbox>' +
//
//         '<div class=wb-header>' +
//             '<div class=wb-icon>' +
//                 '<span class=wb-min></span>' +
//                 '<span class=wb-max></span>' +
//                 '<span class=wb-full></span>' +
//                 '<span class=wb-close></span>' +
//             '</div>' +
//             '<div class=wb-title> </div>' +
//         '</div>' +
//
//         '<div class=wb-body></div>' +
//
//         '<div class=wb-n></div>' +
//         '<div class=wb-s></div>' +
//         '<div class=wb-w></div>' +
//         '<div class=wb-e></div>' +
//         '<div class=wb-nw></div>' +
//         '<div class=wb-ne></div>' +
//         '<div class=wb-se></div>' +
//         '<div class=wb-sw></div>'
//
//     //'</div>'
// );

const tpl = create({
    "child": [{
        "class": "wb-header",
        "child": [{
            "class": "wb-icon",
            "child": [{
                "tag": "span",
                "class": "wb-min"
            },{
                "tag": "span",
                "class": "wb-max"
            },{
                "tag": "span",
                "class": "wb-full"
            },{
                "tag": "span",
                "class": "wb-close"
            }]
        },{
            "class": "wb-title",
            "text": ""
        }]
    },
    { "class": "wb-body" },
    { "class": "wb-n" },
    { "class": "wb-s" },
    { "class": "wb-w" },
    { "class": "wb-e" },
    { "class": "wb-nw" },
    { "class": "wb-ne" },
    { "class": "wb-se" },
    { "class": "wb-sw" }]
});

export function template(){

    return tpl.cloneNode(true);
}

export function create(tpl){

    const node = document.createElement(tpl["tag"] || "div");

    let classname = tpl["class"];

    if(classname){

        node.className = classname;
    }

    let attr = tpl["attr"];

    if(attr){

        for(let i = 0, keys = Object.keys(attr), key; (key = keys[i]); i++){

            node.setAttribute(key, attr[key]);
        }
    }

    let text = tpl["text"];

    if(text){

        node.textContent = text;
    }

    let childs = tpl["child"];

    if(childs){

        childs[0] || (childs = [childs]);

        for(let i = 0, child; (child = childs[i]); i++){

            node.append(create(child));
        }
    }

    return node;
}